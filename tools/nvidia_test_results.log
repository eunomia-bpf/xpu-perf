================================================================================
NVIDIA Kernel Function Test Results
Test Mode: MONOLITHIC (may have warnings)
Date: 2025-11-16 20:58:37
Test Application: /home/yunwei37/workspace/xpu-perf/test/mock-app/vectorAdd
================================================================================

================================================================================
TEST: test_nv_drm.bt
Status: PASSED
Elapsed: 3.81 seconds
================================================================================
Tracing __nv_drm_* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== __nv_drm_* Function Calls ===





================================================================================
TEST: test_nv.bt
Status: PASSED
Elapsed: 38.76 seconds
================================================================================
Tracing ALL nv_* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== ALL nv_* Function Calls ===
@calls[kprobe:nv_caps_imex_channel_count]: 1
@calls[kprobe:nv_is_gpu_accessible]: 2
@calls[kprobe:nv_check_usermap_access_params]: 3
@calls[kprobe:nv_unregister_user_pages]: 4
@calls[kprobe:nv_register_user_pages]: 4
@calls[kprobe:nv_procfs_open_params]: 5
@calls[kprobe:nv_procfs_read_params]: 5
@calls[kprobe:nv_procfs_release_params]: 5
@calls[kprobe:nv_procfs_read_lock_params]: 5
@calls[kprobe:nv_alloc_contig_pages]: 6
@calls[kprobe:nv_vm_unmap_pages]: 6
@calls[kprobe:nv_vm_map_pages]: 6
@calls[kprobe:nv_free_contig_pages]: 6
@calls[kprobe:nv_unmap_dma_map_scatterlist]: 10
@calls[kprobe:nv_dma_map_scatterlist.constprop.0]: 10
@calls[kprobe:nv_destroy_dma_map_scatterlist]: 10
@calls[kprobe:nv_create_dma_map_scatterlist]: 10
@calls[kprobe:nv_map_dma_map_scatterlist]: 10
@calls[kprobe:nv_open_device]: 14
@calls[kprobe:nv_is_uuid_in_gpu_exclusion_list]: 14
@calls[kprobe:nv_close_device]: 14
@calls[kprobe:nv_alloc_system_pages]: 22
@calls[kprobe:nv_alloc_kernel_mapping]: 22
@calls[kprobe:nv_free_kernel_mapping]: 22
@calls[kprobe:nv_free_system_pages]: 22
@calls[kprobe:nv_free_user_mapping]: 23
@calls[kprobe:nv_alloc_user_mapping]: 23
@calls[kprobe:nv_match_dev_state]: 24
@calls[kprobe:nv_add_mapping_context_to_file]: 26
@calls[kprobe:nv_compute_gfp_mask]: 28
@calls[kprobe:nv_alloc_pages]: 28
@calls[kprobe:nv_free_pages]: 28
@calls[kprobe:nv_requires_dma_remap]: 28
@calls[kprobe:nv_dma_map_alloc]: 32
@calls[kprobe:nv_dma_unmap_alloc]: 32
@calls[kprobe:nv_put_file_private]: 36
@calls[kprobe:nv_get_file_private]: 36
@calls[kprobe:nv_free_file_private]: 39
@calls[kprobe:nv_encode_caching]: 53
@calls[kprobe:nv_get_ctl_state]: 56
@calls[kprobe:nv_printf]: 785
@calls[kprobe:nv_get_kern_phys_address]: 15892




================================================================================
TEST: test_nvidia.bt
Status: PASSED
Elapsed: 5.01 seconds
================================================================================
Tracing nvidia_* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== nvidia_* Function Calls ===
@calls[kprobe:nvidia_rc_timer_callback]: 1
@calls[kprobe:nvidia_close_callback]: 14
@calls[kprobe:nvidia_vma_release]: 26
@calls[kprobe:nvidia_mmap]: 26
@calls[kprobe:nvidia_mmap_helper]: 26
@calls[kprobe:nvidia_open]: 39
@calls[kprobe:nvidia_close]: 39
@calls[kprobe:nvidia_poll]: 82
@calls[kprobe:nvidia_unlocked_ioctl]: 333




================================================================================
TEST: test_uvm.bt
Status: PASSED
Elapsed: 76.60 seconds
================================================================================
Tracing ALL uvm_* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== ALL uvm_* Function Calls ===
@calls[kprobe:uvm_range_group_radix_tree_destroy]: 1
@calls[kprobe:uvm_range_tree_merge_next]: 1
@calls[kprobe:uvm_tracker_wait_for_entry]: 1
@calls[kprobe:uvm_va_range_block_next]: 1
@calls[kprobe:uvm_va_range_alloc_managed]: 1
@calls[kprobe:uvm_range_tree_merge_prev]: 1
@calls[kprobe:uvm_va_space_register_gpu_va_space]: 1
@calls[kprobe:uvm_va_space_destroy]: 1
@calls[kprobe:uvm_va_space_mm_register]: 1
@calls[kprobe:uvm_va_space_mm_unregister]: 1
@calls[kprobe:uvm_va_range_create_mmap]: 1
@calls[kprobe:uvm_range_tree_shrink_node]: 1
@calls[kprobe:uvm_push_end_and_wait]: 1
@calls[kprobe:uvm_tools_flush_events]: 1
@calls[kprobe:uvm_va_space_stop_all_user_channels]: 1
@calls[kprobe:uvm_vma_wrapper_alloc]: 1
@calls[kprobe:uvm_range_group_assign_range]: 1
@calls[kprobe:uvm_range_allocator_free]: 1
@calls[kprobe:uvm_va_range_create_semaphore_pool]: 1
@calls[kprobe:uvm_va_range_create_sked_reflected]: 1
@calls[kprobe:uvm_va_space_create]: 1
@calls[kprobe:uvm_va_space_mm_shutdown]: 1
@calls[kprobe:uvm_vm_close_semaphore_pool]: 1
@calls[kprobe:uvm_va_space_register_gpu]: 1
@calls[kprobe:uvm_vma_wrapper_destroy]: 1
@calls[kprobe:uvm_vm_close_semaphore_pool_entry]: 1
@calls[kprobe:uvm_range_allocator_alloc]: 1
@calls[kprobe:uvm_va_block_context_free]: 2
@calls[kprobe:uvm_release_entry]: 2
@calls[kprobe:uvm_va_space_detach_all_user_channels]: 2
@calls[kprobe:uvm_release.isra.0]: 2
@calls[kprobe:uvm_tracker_add_push_safe]: 2
@calls[kprobe:uvm_va_block_context_alloc]: 2
@calls[kprobe:uvm_va_space_single_gpu_in_parent]: 2
@calls[kprobe:uvm_sub_processor_mask_from_processor_mask]: 2
@calls[kprobe:uvm_va_space_pageable_mem_access_supported]: 3
@calls[kprobe:uvm_va_block_context_init]: 4
@calls[kprobe:uvm_range_group_destroy]: 8
@calls[kprobe:uvm_rb_tree_find]: 8
@calls[kprobe:uvm_va_range_create_channel]: 10
@calls[kprobe:uvm_user_channel_destroy_detached]: 16
@calls[kprobe:uvm_user_channel_detach]: 16
@calls[kprobe:uvm_user_channel_stop]: 16
@calls[kprobe:uvm_rb_tree_insert]: 17
@calls[kprobe:uvm_unmap_external_in_range.isra.0]: 27
@calls[kprobe:uvm_va_space_get_gpu_by_mem_info]: 27
@calls[kprobe:uvm_va_range_create_external]: 27
@calls[kprobe:uvm_va_range_find]: 31
@calls[kprobe:uvm_range_tree_find]: 32
@calls[kprobe:uvm_va_range_map_rm_allocation]: 37
@calls[kprobe:uvm_tlb_batch_single_invalidate.constprop.0]: 37
@calls[kprobe:uvm_va_range_destroy]: 40
@calls[kprobe:uvm_tlb_batch_single_invalidate]: 43
@calls[kprobe:uvm_va_space_get_gpu_by_uuid_with_gpu_va_space]: 44
@calls[kprobe:uvm_va_space_mm_or_current_release]: 46
@calls[kprobe:uvm_va_space_mm_or_current_retain]: 46
@calls[kprobe:uvm_va_space_mm_release]: 46
@calls[kprobe:uvm_va_space_mm_enabled_system]: 47
@calls[kprobe:uvm_va_space_get_gpu_by_uuid]: 47
@calls[kprobe:uvm_va_space_mm_enabled]: 54
@calls[kprobe:uvm_processor_mask_cache_alloc]: 55
@calls[kprobe:uvm_processor_mask_cache_free]: 56
@calls[kprobe:uvm_tracker_wait_for_other_gpus]: 56
@calls[kprobe:uvm_va_space_iter_first]: 57
@calls[kprobe:uvm_pte_batch_write_ptes]: 65
@calls[kprobe:uvm_pte_batch_clear_ptes]: 68
@calls[kprobe:uvm_range_tree_add]: 68
@calls[kprobe:uvm_tlb_batch_invalidate]: 80
@calls[kprobe:uvm_tlb_batch_end]: 80
@calls[kprobe:uvm_tlb_batch_begin]: 80
@calls[kprobe:uvm_unlocked_ioctl_entry]: 88
@calls[kprobe:uvm_thread_context_remove]: 93
@calls[kprobe:uvm_thread_context_wrapper_is_used]: 94
@calls[kprobe:uvm_thread_context_add]: 94
@calls[kprobe:uvm_tracker_add_entry]: 94
@calls[kprobe:uvm_pte_batch_end]: 108
@calls[kprobe:uvm_pte_batch_begin]: 108
@calls[kprobe:uvm_range_tree_iter_first]: 153
@calls[kprobe:uvm_tracker_add_tracker_safe]: 168
@calls[kprobe:uvm_push_inline_data_end]: 191
@calls[kprobe:uvm_tracker_overwrite_with_push]: 199
@calls[kprobe:uvm_pushbuffer_mark_completed]: 200
@calls[kprobe:uvm_push_end]: 201
@calls[kprobe:uvm_pushbuffer_end_push]: 202
@calls[kprobe:uvm_pushbuffer_begin_push]: 202
@calls[kprobe:uvm_pushbuffer_get_offset_for_push]: 202
@calls[kprobe:uvm_tracker_add_tracker]: 205
@calls[kprobe:uvm_tracker_wait]: 269
@calls[kprobe:uvm_tracker_deinit]: 280
@calls[kprobe:uvm_tracker_reserve]: 343
@calls[kprobe:uvm_pushbuffer_get_gpu_va_for_push]: 393
@calls[kprobe:uvm_tracker_get_entries]: 480
@calls[kprobe:uvm_rm_mem_get_gpu_va]: 595
@calls[kprobe:uvm_pte_batch_write_pte]: 1025
@calls[kprobe:uvm_push_inline_data_add]: 1089
@calls[kprobe:uvm_spin_loop]: 5286
@calls[kprobe:uvm_tracker_remove_completed]: 5960
@calls[kprobe:uvm_rm_mem_get_cpu_va]: 6388
@calls[kprobe:uvm_push_inline_data_get]: 6577
@calls[kprobe:uvm_range_tree_init]: 6915




================================================================================
TEST: test_nvkms.bt
Status: PASSED
Elapsed: 1.40 seconds
================================================================================
Tracing nvKms* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== nvKms* Function Calls ===





================================================================================
TEST: test_nvuvm.bt
Status: PASSED
Elapsed: 6.46 seconds
================================================================================
Tracing nvUvm* functions...
[Vector Addition Test]
Vector size: 50000 elements
Copy input data from host to device
CUDA kernel launch with 196 blocks of 256 threads
Copy output data from device to host
Test PASSED
Done

=== nvUvm* Function Calls ===
@calls[kprobe:nvUvmInterfaceUnsetPageDirectory]: 1
@calls[kprobe:nvUvmInterfaceSetPageDirectory]: 1
@calls[kprobe:nvUvmInterfaceDupAddressSpace]: 1
@calls[kprobe:nvUvmInterfaceGetGpuInfo]: 1
@calls[kprobe:nvUvmInterfaceAddressSpaceDestroy]: 1
@calls[kprobe:nvUvmInterfaceGetChannelResourcePtes]: 10
@calls[kprobe:nvUvmInterfaceStopChannel]: 16
@calls[kprobe:nvUvmInterfaceRetainChannel]: 16
@calls[kprobe:nvUvmInterfaceBindChannelResources]: 16
@calls[kprobe:nvUvmInterfaceReleaseChannel]: 16
@calls[kprobe:nvUvmInterfaceFreeDupedHandle]: 27
@calls[kprobe:nvUvmInterfaceDupMemory]: 27
@calls[kprobe:nvUvmInterfaceGetExternalAllocPtes]: 27
@calls[kprobe:nvUvmGetSafeStack]: 61





================================================================================
SUMMARY
================================================================================
Total Tests: 6
Passed: 6
Failed: 0
Errors: 0
