#!/usr/bin/env bpftrace
/*
 * Test Untested NVIDIA Functions (Part 1/2)
 * Auto-generated by find_untested_functions.py
 * Functions: 475/951
 */

BEGIN {
    printf("Tracing 475 untested NVIDIA functions (Part 1/2)...\n");
}

kprobe:__probestub_nvidia_dev_xid,
kprobe:__probestub_nvswitch_dev_sxid,
kprobe:__traceiter_nvidia_dev_xid,
kprobe:__traceiter_nvswitch_dev_sxid,
kprobe:__uvm_check_all_unlocked,
kprobe:__uvm_check_lockable_order,
kprobe:__uvm_check_locked,
kprobe:__uvm_check_unlocked_order,
kprobe:__uvm_kvmalloc,
kprobe:__uvm_kvmalloc_zero,
kprobe:__uvm_kvrealloc,
kprobe:__uvm_locking_initialized,
kprobe:__uvm_push_begin_acquire_on_channel_with_info,
kprobe:__uvm_push_begin_acquire_with_info,
kprobe:__uvm_push_begin_on_reserved_channel_with_info,
kprobe:__uvm_record_downgrade,
kprobe:__uvm_record_lock,
kprobe:__uvm_record_unlock,
kprobe:__uvm_thread_check_all_unlocked,
kprobe:_basic_start_stop_callback,
kprobe:_basic_start_stop_test,
kprobe:_check_cpu_affinity_callback,
kprobe:_check_cpu_affinity_test,
kprobe:_main_loop,
kprobe:_multithread_callback,
kprobe:_multithreaded_q_kthread_function,
kprobe:_multithreaded_q_test,
kprobe:_nv_cap_table_init,
kprobe:_q_flush_function,
kprobe:_raw_q_flush,
kprobe:_reschedule_callback,
kprobe:_reschedule_same_item_from_its_own_callback_test,
kprobe:_same_q_item_callback,
kprobe:_same_q_item_test,
kprobe:_uvm_tools_destroy_cache_all,
kprobe:access_counter_buffer_flush_locked,
kprobe:access_counter_clear_all,
kprobe:access_counter_clear_notifications,
kprobe:access_counters_disable.isra.0,
kprobe:access_counters_isr_bottom_half,
kprobe:access_counters_isr_bottom_half_entry,
kprobe:access_counters_take_ownership,
kprobe:accessed_by_is_split_needed,
kprobe:accessed_by_set,
kprobe:add_and_test,
kprobe:add_one_to_counter,
kprobe:add_two_to_counter,
kprobe:alloc_128k_memory_maxwell,
kprobe:alloc_256g_memory,
kprobe:alloc_4k_maxwell,
kprobe:alloc_512m_memory,
kprobe:alloc_64k_memory,
kprobe:alloc_64k_memory_57b_va,
kprobe:alloc_64k_memory_maxwell,
kprobe:alloc_adjacent_256g_memory,
kprobe:alloc_adjacent_512m_memory,
kprobe:alloc_adjacent_64k_memory,
kprobe:alloc_adjacent_pde_64k_memory,
kprobe:alloc_and_init_mem,
kprobe:alloc_device_p2p_mem,
kprobe:alloc_drm_lut_surface,
kprobe:alloc_nearby_pde_64k_memory,
kprobe:alloc_page_on_cpu,
kprobe:alloc_pci_device_p2p,
kprobe:alloc_root_chunk,
kprobe:alloc_sysmem_unprotected,
kprobe:alloc_tracking_add,
kprobe:alloc_tracking_remove,
kprobe:allocate_directory,
kprobe:allocate_root,
kprobe:allocate_then_free_8_8_64k,
kprobe:allocate_then_free_all_16_64k,
kprobe:allocation_size_hopper,
kprobe:allocation_size_maxwell_128,
kprobe:allocation_size_maxwell_64,
kprobe:allocation_size_pascal,
kprobe:allocation_sizes_for_big_page_size.isra.0,
kprobe:assert_and_reset_last_invalidate,
kprobe:assert_entry_invalidate.constprop.0,
kprobe:assert_entry_no_invalidate.constprop.0,
kprobe:assert_invalidate_range_specific.isra.0,
kprobe:assert_range_vec_ptes,
kprobe:assert_tracker_is_completed,
kprobe:assert_tracker_is_not_completed,
kprobe:ats_batch_select_residency,
kprobe:ats_compute_prefetch.isra.0,
kprobe:basic_test_alloc,
kprobe:block_add_eviction_mappings,
kprobe:block_add_eviction_mappings_entry,
kprobe:block_alloc_cpu_chunk,
kprobe:block_alloc_ptes_new_state,
kprobe:block_alloc_ptes_with_retry,
kprobe:block_clear_resident_processor,
kprobe:block_context_free_tracking,
kprobe:block_copy_get_address,
kprobe:block_copy_pages,
kprobe:block_copy_resident_pages,
kprobe:block_copy_resident_pages_between,
kprobe:block_copy_resident_pages_from,
kprobe:block_copy_resident_pages_mask,
kprobe:block_copy_set_first_touch_residency,
kprobe:block_copy_should_use_push,
kprobe:block_cpu_fault_locked,
kprobe:block_cpu_page_is_dirty,
kprobe:block_destroy_gpu_state,
kprobe:block_free_cpu_chunk_storage,
kprobe:block_get_page_node_residency,
kprobe:block_kill,
kprobe:block_map_gpu_to,
kprobe:block_mark_cpu_page_dirty,
kprobe:block_mark_memory_used,
kprobe:block_page_get.isra.0,
kprobe:block_page_prot,
kprobe:block_page_prot_gpu.isra.0,
kprobe:block_phys_contig_region,
kprobe:block_phys_page_address.isra.0,
kprobe:block_phys_page_chunk.isra.0,
kprobe:block_phys_page_copy_address.isra.0,
kprobe:block_phys_page_size.isra.0,
kprobe:block_populate_pages,
kprobe:block_populate_pages_cpu,
kprobe:block_pre_populate_pde1_gpu.isra.0,
kprobe:block_put_ptes_safe,
kprobe:block_region_authorized_processors,
kprobe:block_resident_mask_get_alloc,
kprobe:block_revoke_prot_gpu_perf_notify,
kprobe:block_set_processor_masks,
kprobe:block_set_resident_processor,
kprobe:block_unmap_cpu.isra.0,
kprobe:block_unmap_gpu,
kprobe:block_unmap_gpu_egm_mappings,
kprobe:block_update_cpu_resident_mask,
kprobe:calc_uvm_lite_gpus_mask,
kprobe:callback_inc_1,
kprobe:callback_inc_2,
kprobe:can_read_duplicate,
kprobe:cancel_fault_precise_va,
kprobe:channel_destroy,
kprobe:channel_manager_ce_pool,
kprobe:channel_pool_add,
kprobe:channel_pool_destroy,
kprobe:channel_pool_lock,
kprobe:channel_pool_rotate_key,
kprobe:channel_pool_suspend_p2p,
kprobe:channel_pool_unlock,
kprobe:channel_print_pushes,
kprobe:channel_reserve_in_pool,
kprobe:check_accessible_from_gpu,
kprobe:check_alloc,
kprobe:check_cpu_dirty_flag,
kprobe:check_for_bound_driver,
kprobe:check_gpu_va_space,
kprobe:check_huge_page_from_gpu,
kprobe:check_reverse_map_block_batch,
kprobe:check_reverse_map_block_page,
kprobe:chunk_alloc_check.constprop.0,
kprobe:chunk_alloc_check_common.isra.0,
kprobe:chunk_alloc_user_check.constprop.0,
kprobe:chunk_dec_gpu_mapping,
kprobe:chunk_free_locked,
kprobe:chunk_is_evictable.isra.0,
kprobe:chunk_phys_mapping_get,
kprobe:chunk_update_lists_locked,
kprobe:chunk_walk,
kprobe:claim_free_chunk,
kprobe:clean_up_non_migrating_pages.isra.0,
kprobe:clear_chunk,
kprobe:clear_service_context_masks,
kprobe:cmp_sort_fault_entry_by_instance_ptr,
kprobe:cmp_sort_fault_entry_by_va_space_gpu_address_access_type,
kprobe:compute_gpu_mappings_entry_index,
kprobe:compute_logical_prot,
kprobe:compute_prefetch_mask,
kprobe:cpu_chunk_add_sysmem_gpu_mapping,
kprobe:cpu_chunk_map_on_cpu,
kprobe:cpu_chunk_unmap_gpu_phys,
kprobe:cpu_mapping_clear,
kprobe:create_event_tracker,
kprobe:create_identity_mapping,
kprobe:dec_vli,
kprobe:deinit_chunk_split_cache,
kprobe:deinit_device_p2p_mem,
kprobe:deinit_pma_address_batch_cache,
kprobe:destroy_event_tracker,
kprobe:destroy_gpu_va_space,
kprobe:destroy_identity_mapping,
kprobe:destroy_test_chunk,
kprobe:device_p2p_page_free,
kprobe:devmem_fault_entry,
kprobe:devmem_page_free,
kprobe:dict_repeat,
kprobe:disable_egm_peers,
kprobe:disable_peers,
kprobe:dma_buffer_create,
kprobe:dma_map_non_failed_pages_in_mask,
kprobe:dmamap_src_sysmem_pages.isra.0,
kprobe:do_block_add_mappings_after_migration,
kprobe:do_memset_4,
kprobe:do_semaphore_release,
kprobe:do_test_cpu_chunk_free.isra.0,
kprobe:do_test_cpu_chunk_split_and_merge,
kprobe:drm_mode_to_nvkms_display_mode,
kprobe:enable_egm_peers,
kprobe:enable_peers,
kprobe:encrypt_or_decrypt,
kprobe:enqueue_event,
kprobe:entries_per_index_hopper,
kprobe:entries_per_index_maxwell,
kprobe:entries_per_index_pascal,
kprobe:entry_offset_hopper,
kprobe:entry_offset_maxwell,
kprobe:entry_offset_pascal,
kprobe:entry_size_hopper,
kprobe:entry_size_maxwell,
kprobe:entry_size_pascal,
kprobe:entry_test_ampere,
kprobe:entry_test_hopper.constprop.0,
kprobe:entry_test_maxwell,
kprobe:entry_test_page_size_ampere,
kprobe:entry_test_page_size_blackwell,
kprobe:entry_test_page_size_hopper,
kprobe:entry_test_page_size_pascal,
kprobe:entry_test_page_size_volta,
kprobe:entry_test_pascal.constprop.0,
kprobe:entry_test_volta.constprop.0,
kprobe:errno_to_nv_status,
kprobe:evict_root_chunk,
kprobe:external_sparse_pte_maker,
kprobe:fake_ce_memcopy,
kprobe:fake_ce_memset_8,
kprobe:fake_gpu_init,
kprobe:fake_membar,
kprobe:fake_noop,
kprobe:fake_tlb_invalidate_all,
kprobe:fake_tlb_invalidate_va,
kprobe:fake_wait_for_idle,
kprobe:fast_split_double_backoff,
kprobe:fast_split_normal,
kprobe:fault_buffer_flush_locked,
kprobe:fault_buffer_reinit_replayable_faults,
kprobe:fetch_fault_buffer_entries,
kprobe:fetch_fault_buffer_merge_entry,
kprobe:fill_dst_pfns,
kprobe:fill_temp,
kprobe:find_and_retain_va_block_to_evict,
kprobe:find_free_chunk_locked,
kprobe:find_free_list,
kprobe:find_next_valid_page_index,
kprobe:find_pci,
kprobe:find_user_channel,
kprobe:find_uuid,
kprobe:find_uuid_candidate,
kprobe:flush_top_half,
kprobe:force_key_rotations,
kprobe:fp32_lut_interp.constprop.0,
kprobe:free_chunk,
kprobe:free_chunk_with_merges,
kprobe:free_drm_lut_surface,
kprobe:free_first_pinned_chunk_func,
kprobe:free_next_available_root_chunk,
kprobe:free_root_chunk,
kprobe:get_1tb_range,
kprobe:get_2gb_range,
kprobe:get_512mb_range,
kprobe:get_chunk_mappings_in_range,
kprobe:get_entire_table_256g,
kprobe:get_entire_table_4k,
kprobe:get_entire_table_512m,
kprobe:get_gpu_pfns,
kprobe:get_hint_for_migration_thrashing,
kprobe:get_overlapping_dual_pdes,
kprobe:get_page_sizes.isra.0,
kprobe:get_parent_p2p_caps,
kprobe:get_single_page_256g,
kprobe:get_single_page_2m,
kprobe:get_single_page_512m,
kprobe:get_subchunks_walk_func,
kprobe:get_two_free_apart,
kprobe:get_upper_test,
kprobe:gpu_access_counters_enable.isra.0,
kprobe:gpu_access_counters_print_common,
kprobe:gpu_address,
kprobe:gpu_chunk_add,
kprobe:gpu_chunk_remove,
kprobe:gpu_fault_stats_print_common,
kprobe:gpu_info_print_common,
kprobe:grow_fault_granularity_if_no_thrashing,
kprobe:hmm_block_cpu_fault_locked,
kprobe:hmm_copy_devmem_page,
kprobe:hmm_invalidate,
kprobe:hmm_make_resident_cpu,
kprobe:hmm_migrate_range,
kprobe:hmm_set_accessed_by_start_end_locked,
kprobe:hmm_split_block,
kprobe:hmm_split_invalidate_entry,
kprobe:hmm_va_block_cpu_page_populate,
kprobe:hmm_va_block_cpu_page_unpopulate,
kprobe:hmm_va_block_evict_chunks,
kprobe:hmm_va_block_find_create,
kprobe:hopper_get_flush_value,
kprobe:hopper_memset_common,
kprobe:identity_mapping_pte_maker,
kprobe:index_bits_hopper,
kprobe:index_bits_maxwell_128,
kprobe:index_bits_maxwell_64,
kprobe:index_bits_pascal,
kprobe:init_bitmap_tree_from_region,
kprobe:init_chunk_split_cache_level,
kprobe:init_drm_nvkms_surface.constprop.0.isra.0,
kprobe:init_procfs_dirs,
kprobe:init_procfs_parent_peer_cap_files,
kprobe:init_queue_on_node,
kprobe:init_test_chunk,
kprobe:inner_thread_context,
kprobe:internal_channel_submit_work_indirect_sec2.isra.0,
kprobe:is_ats_range_valid,
kprobe:is_block_phys_contig,
kprobe:is_string_valid_location.isra.0,
kprobe:kill_channel_delayed,
kprobe:kill_channel_delayed_entry,
kprobe:libspdm_aead,
kprobe:libspdm_aead_aes_gcm_decrypt,
kprobe:libspdm_aead_aes_gcm_decrypt_prealloc,
kprobe:libspdm_aead_aes_gcm_encrypt,
kprobe:libspdm_aead_aes_gcm_encrypt_prealloc,
kprobe:libspdm_aead_free,
kprobe:libspdm_aead_gcm_prealloc,
kprobe:libspdm_asn1_get_tag,
kprobe:libspdm_check_crypto_backend,
kprobe:libspdm_ec_check_key,
kprobe:libspdm_ec_compute_key,
kprobe:libspdm_ec_free,
kprobe:libspdm_ec_generate_key,
kprobe:libspdm_ec_get_pub_key,
kprobe:libspdm_ec_get_public_key_from_x509,
kprobe:libspdm_ec_new_by_nid,
kprobe:libspdm_ec_set_pub_key,
kprobe:libspdm_ecd_get_public_key_from_x509,
kprobe:libspdm_ecdsa_sign,
kprobe:libspdm_ecdsa_verify,
kprobe:libspdm_gen_x509_csr,
kprobe:libspdm_hkdf_sha256_expand,
kprobe:libspdm_hkdf_sha256_extract,
kprobe:libspdm_hkdf_sha256_extract_and_expand,
kprobe:libspdm_hkdf_sha384_expand,
kprobe:libspdm_hkdf_sha384_extract,
kprobe:libspdm_hkdf_sha384_extract_and_expand,
kprobe:libspdm_hkdf_sha512_expand,
kprobe:libspdm_hkdf_sha512_extract,
kprobe:libspdm_hkdf_sha512_extract_and_expand,
kprobe:libspdm_random_bytes,
kprobe:libspdm_random_seed,
kprobe:libspdm_rsa_free,
kprobe:libspdm_rsa_get_public_key_from_x509,
kprobe:libspdm_rsa_new,
kprobe:libspdm_rsa_pss_sign,
kprobe:libspdm_rsa_pss_verify,
kprobe:libspdm_rsa_set_key,
kprobe:libspdm_sha256_duplicate,
kprobe:libspdm_sha256_final,
kprobe:libspdm_sha256_free,
kprobe:libspdm_sha256_hash_all,
kprobe:libspdm_sha256_init,
kprobe:libspdm_sha256_new,
kprobe:libspdm_sha256_update,
kprobe:libspdm_sha384_duplicate,
kprobe:libspdm_sha384_final,
kprobe:libspdm_sha384_free,
kprobe:libspdm_sha384_hash_all,
kprobe:libspdm_sha384_init,
kprobe:libspdm_sha384_new,
kprobe:libspdm_sha384_update,
kprobe:libspdm_sha512_duplicate,
kprobe:libspdm_sha512_final,
kprobe:libspdm_sha512_free,
kprobe:libspdm_sha512_hash_all,
kprobe:libspdm_sha512_init,
kprobe:libspdm_sha512_new,
kprobe:libspdm_sha512_update,
kprobe:libspdm_sm2_get_public_key_from_x509,
kprobe:lkca_ec_compute_key,
kprobe:lkca_ec_generate_key,
kprobe:lkca_ec_get_pub_key,
kprobe:lkca_ec_set_pub_key,
kprobe:lkca_ecdsa_set_priv_key,
kprobe:lkca_ecdsa_verify,
kprobe:lkca_hash_all,
kprobe:lkca_hash_duplicate,
kprobe:lkca_hash_free,
kprobe:lkca_hash_new,
kprobe:lkca_hkdf_expand,
kprobe:lkca_hkdf_extract_and_expand,
kprobe:lkca_hmac_all,
kprobe:lkca_hmac_duplicate,
kprobe:lkca_hmac_set_key,
kprobe:lkca_rsa_pss_sign,
kprobe:lock_channel_for_push,
kprobe:lzma_len,
kprobe:lzma_main,
kprobe:make_pde_hopper,
kprobe:make_pde_maxwell,
kprobe:make_pde_pascal,
kprobe:make_pde_volta,
kprobe:make_pte_hopper,
kprobe:make_pte_maxwell,
kprobe:make_pte_pascal,
kprobe:make_pte_turing,
kprobe:make_pte_volta,
kprobe:make_sked_reflected_pte_hopper,
kprobe:make_sked_reflected_pte_maxwell,
kprobe:make_sked_reflected_pte_pascal,
kprobe:make_sked_reflected_pte_turing,
kprobe:make_sparse_pte_hopper,
kprobe:make_sparse_pte_maxwell_unsupported,
kprobe:make_sparse_pte_pascal,
kprobe:map_remap_init,
kprobe:map_rm_pt_range,
kprobe:map_user_pages,
kprobe:maxwell_membar_after_transfer,
kprobe:mem_free_sysmem_dma_chunks,
kprobe:mem_map_gpu,
kprobe:mem_match,
kprobe:mem_pte_maker,
kprobe:mem_unmap_gpu.isra.0,
kprobe:memset_common.isra.0,
kprobe:merge_gpu_chunk,
kprobe:merge_walk_func,
kprobe:migrate_alloc_on_cpu,
kprobe:migrate_pageable_vma_migrate_mask,
kprobe:migrate_pageable_vma_populate_mask,
kprobe:migrate_vma_zero_begin_push.isra.0,
kprobe:migration_should_do_cpu_preunmap,
kprobe:mm_read64,
kprobe:module1_destroy,
kprobe:module1_fault,
kprobe:module2_destroy,
kprobe:module2_fault,
kprobe:node_to_index,
kprobe:non_replayable_faults_isr_bottom_half,
kprobe:non_replayable_faults_isr_bottom_half_entry,
kprobe:num_subchunks,
kprobe:num_va_bits_hopper,
kprobe:num_va_bits_maxwell,
kprobe:num_va_bits_pascal,
kprobe:numa_status_read,
kprobe:nvkms_alloc,
kprobe:nvkms_alloc_ref_ptr,
kprobe:nvkms_alloc_timer,
kprobe:nvkms_alloc_timer_with_ref_ptr,
kprobe:nvkms_allow_write_combining,
kprobe:nvkms_call_rm,
kprobe:nvkms_close,
kprobe:nvkms_close_from_kapi,
kprobe:nvkms_close_gpu,
kprobe:nvkms_close_pm_unlocked,
kprobe:nvkms_conceal_vrr_caps,
kprobe:nvkms_config_file_open,
kprobe:nvkms_connector_signal_to_drm_encoder_signal,
kprobe:nvkms_connector_type_to_drm_connector_type,
kprobe:nvkms_copyin,
kprobe:nvkms_copyout,
kprobe:nvkms_debug_force_color_space,
kprobe:nvkms_dec_ref,
kprobe:nvkms_disable_hdmi_frl,
kprobe:nvkms_disable_vrr_memclk_switch,
kprobe:nvkms_display_mode_to_drm_mode,
kprobe:nvkms_dump_stack,
kprobe:nvkms_enable_overlay_layers,
kprobe:nvkms_enumerate_gpus,
kprobe:nvkms_event_queue_changed,
kprobe:nvkms_fd_is_nvidia_chardev,
kprobe:nvkms_free,
kprobe:nvkms_free_ref_ptr,
kprobe:nvkms_free_timer,
kprobe:nvkms_get_backlight_brightness
{
    @calls[probe] = count();
}

END {
    printf("\n=== Untested Function Calls (Part 1/2) ===\n");
    print(@calls);
    clear(@calls);
}
